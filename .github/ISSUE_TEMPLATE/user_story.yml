name: User Story
description: Use this template for feature development work from a user's perspective (mirrors Jira User Story structure)
title: "[STORY] As a [user type], I want [goal] so that [benefit]"
labels: ["user-story"]
assignees: []

body:
  - type: markdown
    attributes:
      value: |
        ## ğŸ‘¤ User Story
        > **Format:** `As a [type of user], I want [an action] so that [a benefit/value]`
        > _Example: "As a returning customer, I want to save my payment details so that I can check out faster on future purchases."_

  - type: textarea
    id: user-story
    attributes:
      label: ğŸ“– Story Statement
      description: Write the full user story in the standard format.
      placeholder: |
        As a [type of user],
        I want [to perform some action],
        so that [I can achieve some goal/benefit].
    validations:
      required: true

  - type: textarea
    id: background
    attributes:
      label: ğŸ§  Background / Context
      description: Provide any business context, user research, or background that explains why this story matters.
      placeholder: "e.g. User interviews revealed that 62% of drop-offs occur at the checkout step due to friction in re-entering payment details..."
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ## ğŸ‘¥ User Personas

  - type: textarea
    id: personas
    attributes:
      label: Target Persona(s)
      description: Who is this story being built for? List the relevant user types.
      value: |
        | Persona        | Description                              | Pain Point Being Solved          |
        |----------------|------------------------------------------|----------------------------------|
        | [Persona Name] | [Brief description of this user type]   | [What friction does this remove] |
        | [Persona Name] | [Brief description of this user type]   | [What friction does this remove] |
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ## ğŸ¨ UX / Design

  - type: input
    id: figma-link
    attributes:
      label: Figma / Design Link
      description: Link to the relevant Figma file, prototype, or design spec.
      placeholder: "https://figma.com/file/..."
    validations:
      required: false

  - type: textarea
    id: ux-notes
    attributes:
      label: UX Notes & Interaction Details
      description: Describe any specific UI behavior, edge case designs, or interaction states (empty states, loading, errors).
      placeholder: |
        - Loading state: show skeleton loader while fetching user data
        - Empty state: display onboarding prompt if no saved items exist
        - Error state: show inline error with retry CTA if API call fails
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ## âš™ï¸ Technical Notes

  - type: textarea
    id: technical-notes
    attributes:
      label: Technical Considerations
      description: Any known technical constraints, architectural decisions, or dependencies the developer should be aware of.
      placeholder: |
        - Must integrate with existing UserProfile service (v2 API)
        - Payment data must be tokenized â€” no raw card data stored client-side
        - Feature flag required for phased rollout (use LaunchDarkly flag: `saved_payments_v1`)
    validations:
      required: false

  - type: textarea
    id: out-of-scope
    attributes:
      label: ğŸš« Out of Scope
      description: Explicitly list anything that is NOT part of this story to prevent scope creep.
      placeholder: |
        - Editing or deleting saved payment methods (covered in STORY-204)
        - Support for PayPal or Apple Pay (future iteration)
        - Admin-side visibility of saved payment tokens
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ## âœ… Acceptance Criteria
        > Written in **Given / When / Then** format for clarity and testability.

  - type: textarea
    id: acceptance-criteria
    attributes:
      label: Acceptance Criteria
      description: Each criterion should be independently verifiable. Use Given/When/Then where possible.
      value: |
        - [ ] **Given** [precondition], **When** [action], **Then** [expected outcome]
        - [ ] **Given** [precondition], **When** [action], **Then** [expected outcome]
        - [ ] **Given** [precondition], **When** [action], **Then** [expected outcome]
        - [ ] **Given** [precondition], **When** [action], **Then** [expected outcome]
        - [ ] **Given** [precondition], **When** [action], **Then** [expected outcome]
    validations:
      required: true

  - type: markdown
    attributes:
      value: |
        ---
        ## ğŸ§ª Testing Requirements

  - type: textarea
    id: testing-requirements
    attributes:
      label: Testing Scope
      description: Outline what types of testing are required and any specific scenarios to cover.
      placeholder: |
        - Unit tests: [specific functions or components to test]
        - Integration tests: [API contracts or service interactions to validate]
        - E2E tests: [critical user flows to automate in Cypress/Playwright]
        - Accessibility: [WCAG 2.1 AA compliance check required]
        - Browser/device coverage: [Chrome, Safari, Firefox / Mobile responsive]
    validations:
      required: false

  - type: markdown
    attributes:
      value: |
        ---
        ## ğŸ Definition of Done

        - [ ] All acceptance criteria met and verified by QA
        - [ ] Unit and integration tests written and passing
        - [ ] Code reviewed and approved by at least 1 peer
        - [ ] UX reviewed and signed off by designer
        - [ ] No new accessibility violations introduced
        - [ ] Feature flag configured (if applicable)
        - [ ] Documentation updated (API docs, README, Confluence, etc.)
        - [ ] Product Owner sign-off received
        - [ ] Merged to `main` / target branch with no conflicts

        ---

  - type: dropdown
    id: story-points
    attributes:
      label: ğŸ”¢ Story Points
      description: Estimated effort using Fibonacci scale.
      options:
        - "1 â€” Trivial"
        - "2 â€” Simple"
        - "3 â€” Small"
        - "5 â€” Medium"
        - "8 â€” Large"
        - "13 â€” Very Large"
    validations:
      required: true

  - type: dropdown
    id: priority
    attributes:
      label: ğŸš¨ Priority
      options:
        - "Highest"
        - "High"
        - "Medium"
        - "Low"
    validations:
      required: true

  - type: dropdown
    id: moscow
    attributes:
      label: ğŸ¯ MoSCoW Prioritisation
      description: How critical is this story to the current release?
      options:
        - "Must Have"
        - "Should Have"
        - "Could Have"
        - "Won't Have (this iteration)"
    validations:
      required: false

  - type: input
    id: epic-link
    attributes:
      label: ğŸ—ºï¸ Epic Link
      description: Which Epic does this story belong to?
      placeholder: "e.g. EPIC-42 â€” Guest Checkout Optimisation"
    validations:
      required: false

  - type: input
    id: sprint
    attributes:
      label: ğŸ—“ï¸ Sprint
      placeholder: "e.g. Sprint 14"
    validations:
      required: false

  - type: input
    id: linked-issues
    attributes:
      label: ğŸ”— Linked Issues
      description: Reference any related, blocking, or dependent issues.
      placeholder: "Closes #___, Blocked by #___, Relates to #___"
    validations:
      required: false